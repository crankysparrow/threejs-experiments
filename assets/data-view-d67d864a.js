var g=Object.defineProperty;var w=(i,e,t)=>e in i?g(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(w(i,typeof e!="symbol"?e+"":e,t),t);import{t as u,V as p,E as f}from"./three.module-08dc1cdd.js";const n=(i,e,t)=>{const a=document.createElement(i);if(e)for(let l in e)a.setAttribute(l,e[l]);return t&&(typeof t=="string"?a.innerHTML=t:Array.isArray(t)?t.forEach(l=>{l&&(typeof l=="string"?a.appendChild(n("div",{},l)):a.appendChild(l))}):a.appendChild(t)),a};const E=i=>i instanceof u||i instanceof p||i instanceof f||typeof i=="number",o=(i,e=2)=>i.toFixed(e).padStart(7,"Â "),c=(i,e=2)=>i instanceof u?`${o(i.x,e)} ${o(i.y,e)}`:i instanceof p||i instanceof f?`${o(i.x,e)} ${o(i.y,e)} ${o(i.z,e)}`:o(i,e);class v{constructor(e,t){s(this,"el");s(this,"dataEl");s(this,"values",[]);s(this,"parent");s(this,"title");s(this,"add",(e,t,a=t,l=2)=>{let r=e[t];if(!E(r)){console.warn(`DataView: value for ${t} is not a vector or number`);return}let h=n("div",{},a),d=n("div",{},c(r,l));this.dataEl.append(h,d),this.values.push({el:d,titleEl:h,object:e,key:t,decimals:l})});s(this,"update",()=>{this.values.forEach(e=>{e.el.innerHTML=c(e.object[e.key],e.decimals)})});if(this.parent=e,this.el=n("div",{class:"data-view-section"}),this.dataEl=n("div",{class:"vectors-rows"}),t){this.title=t;let a=n("h2",{},t);this.el.appendChild(a)}this.el.appendChild(this.dataEl)}}class V{constructor(){s(this,"el");s(this,"sections",[]);s(this,"toggle");s(this,"_visible",!0);s(this,"show",()=>(this.toggle.innerHTML="hide data",this.el.classList.remove("hidden"),this._visible=!0,this));s(this,"hide",()=>(this.toggle.innerHTML="show data",this.el.classList.add("hidden"),this._visible=!1,this));s(this,"onToggle",()=>{this._visible?this.hide():this.show()});s(this,"update",()=>{this._visible&&this.sections.forEach(e=>e.update())});s(this,"createCustomSection",(e,t,a)=>{let l=n("div",{class:"custom-section data-view-section"},[a?n("h2",{},a):null,e]);this.el.appendChild(l),this.sections.push({el:l,update:t})});this.toggle=n("button",{id:"dataview-toggle",class:"dataview-toggle"},"hide data"),this.el=n("div",{id:"dataview"},[this.toggle]),document.body.appendChild(this.el),this.toggle.addEventListener("click",this.onToggle)}createSection(e){let t=new v(this,e);return this.sections.push(t),this.el.appendChild(t.el),t}}export{V as D,n as c};
